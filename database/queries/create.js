"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createSportsTableQ = "CREATE TABLE IF NOT EXISTS sports(\n                                                               id serial primary key,\n                                                               name varchar(100),\n                                                               unique(name)\n                                                               )";
exports.createLeaguesTableQ = "CREATE TABLE IF NOT EXISTS leagues(\n                                                                id serial primary key,\n                                                                name varchar(100),\n                                                                unique(name),\n                                                                url varchar,\n                                                                sports_id integer not null references sports(id)\n                                                                )";
exports.createTeamsTableQ = "CREATE TABLE IF NOT EXISTS teams(\n                                                                id serial primary key,\n                                                                name varchar(200),\n                                                                sports_id integer not null references sports(id),\n                                                                leagues_id integer not null references leagues(id),\n                                                                abbreviation varchar(100),\n                                                                other_names varchar(200) ARRAY\n                                                                )";
exports.createSeasonTableQ = "CREATE TABLE IF NOT EXISTS seasons(\n                                                            id serial primary key,\n                                                            name varchar(200),\n                                                            sports_id integer not null references sports(id),\n                                                            leagues_id integer not null references leagues(id)\n                                                            )";
exports.createMatchesTableQ = "CREATE TABLE IF NOT EXISTS matches(\n                                                                id serial primary key,\n                                                                teams_id_1 integer not null references teams(id),\n                                                                teams_id_2 integer not null references teams(id),\n                                                                url varchar,\n                                                                status varchar,\n                                                                date timestamp with time zone,\n                                                                score_1 integer,\n                                                                score_2 integer,\n                                                                coeff_1 decimal ARRAY,\n                                                                coeff_2 decimal ARRAY,\n                                                                seasons_id integer not null references seasons(id),\n                                                                leagues_id integer not null references leagues(id),\n                                                                sports_id integer not null references sports(id)\n                                                                )";
exports.createFunctionSelectOrInsertSeason = "CREATE OR REPLACE FUNCTION \n            select_or_insert_season(var_name varchar(100), var_sports_id integer, var_leagues_id integer)\n            RETURNS integer AS\n            $BODY$\n            DECLARE result_id integer;\n            BEGIN\n                SELECT id FROM seasons WHERE name=var_name AND sports_id=var_sports_id AND leagues_id=var_leagues_id\n                       INTO result_id;\n                IF result_id IS NULL\n                THEN\n                    INSERT INTO seasons(name, sports_id, leagues_id) VALUES (var_name, var_sports_id, var_leagues_id) \n                           RETURNING id INTO result_id;\n                END IF;\n                RETURN result_id;\n            END $BODY$ LANGUAGE plpgsql;";
